后端热更新使用文档
=========================== 

[TOC]

公司游戏项目的热更新请求，通常由对应项目的前端或者后端开发人员发起，并且填写好相应的更新要求。各个流程节点审批完成后，运维部的相关人员会收到该更新请求，然后执行热更新。热更新完成后，会发送qq和邮件告知对应的人员本次更新结果。

### 填写热更新标题和更新原因

标题和原因:

![标题和原因](http://192.168.100.66/workflow_doc/hot_server_title_reason.png "标题和原因")

### 选择更新项目地区和审批人

更新的项目地区和审批人以及更新完成后需要额外的通知人员:

![项目和地区](http://192.168.100.66/workflow_doc/hot_server_project_area_approve.png "项目和地区")

### 选择更新版本号和游戏服

下拉选择了更新版本号后，会根据该版本号列出游戏服，跨服，跨服中央服，以树形的结构，按照*游戏服类型*, *平台* *游戏服名* 来展示。可以搜索要更新游戏服，然后勾选.

![勾选游戏服](http://192.168.100.66/workflow_doc/hot_server_version_game_server.png "勾选游戏服")

### 执行热更新文件和执行erlang命令

后端热更新，有包括单独执行erlang命令的情况，因此需要选定本次热更新的方式。

如果需要热更文件，需要和前端热更新一样，选择热更文件。如果只是指定erlang命令，需要填写执行的erlang命令

*也可以同时热更新文件和执行erlang命令*

热更方式:

![热更方式](http://192.168.100.66/workflow_doc/hot_server_update_type.png "热更方式")

### 是否有依赖更新

对于某些更新，比如前后端更新了某个协议，需要和前端一起执行。因此需要选择一个唯一的依赖更新代号来和前端绑定。
> 如果后端先生成代号，选择一个顺序，是在前端之前，还是在后端之后更新
> 如果前端已经生成了代号，那么后端只需要选择加入前端创建好的代号。更新顺序会自动选择

后端加入前端创建的代号:

![后端加入前端创建的代号](http://192.168.100.66/workflow_doc/hot_server_pair.png "后端加入前端创建的代号")


### 确认提交

确认本次热更新提交信息:
![确认本次热更新提交信息](http://192.168.100.66/workflow_doc/hot_server_confirm.png "确认本次热更新提交信息")
